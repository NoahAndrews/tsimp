/* IMPORTANT
 * This snapshot file is auto-generated, but designed for humans.
 * It should be checked into source control and tracked carefully.
 * Re-generate by setting TAP_SNAPSHOT=1 and running tests.
 * Make sure to inspect the output below.  Do not ignore changes!
 */
'use strict'
exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=false > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=false > commonjs.cts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=false > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=false > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=false > file.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a63 6f6e 7374 2066 203d 207b 2062 6172 3a20 2762  ue:.true.});.const.f.=.{.bar:.'b
  0060: 6172 2720 7d3b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2866 293b 0a2f 2f23 2073 6f75  ar'.};.console.error(f);.//#.sou
  0080: 7263 654d 6170 7069 6e67 5552 4c3d                                               rceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=false > file.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=false > foo.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552  ue:.true.});.//#.sourceMappingUR
  0060: 4c3d                                                                             L=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=false > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=false > mixed.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a72 6571 7569 7265 2822 6368 616c 6b22 293b 0a72  ue:.true.});.require("chalk");.r
  0060: 6571 7569 7265 2822 2e2f 6669 6c65 2e6a 7322 293b 0a72 6571 7569 7265 2822 2e2f  equire("./file.js");.require("./
  0080: 666f 6f2e 6a73 2229 3b0a 7265 7175 6972 6528 222e 2f65 736d 2e6d 6a73 2229 3b0a  foo.js");.require("./esm.mjs");.
  00a0: 7265 7175 6972 6528 222e 2f63 6f6d 6d6f 6e6a 732e 636a 7322 293b 0a2f 2f23 2073  require("./commonjs.cjs");.//#.s
  00c0: 6f75 7263 654d 6170 7069 6e67 5552 4c3d                                          ourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=false > mixed.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=true > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=true > commonjs.cts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=true > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=true > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=true > file.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a63 6f6e 7374 2066 203d 207b 2062 6172 3a20 2762  ue:.true.});.const.f.=.{.bar:.'b
  0060: 6172 2720 7d3b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2866 293b 0a2f 2f23 2073 6f75  ar'.};.console.error(f);.//#.sou
  0080: 7263 654d 6170 7069 6e67 5552 4c3d                                               rceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=true > file.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=true > foo.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552  ue:.true.});.//#.sourceMappingUR
  0060: 4c3d                                                                             L=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=true > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=true > mixed.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a72 6571 7569 7265 2822 6368 616c 6b22 293b 0a72  ue:.true.});.require("chalk");.r
  0060: 6571 7569 7265 2822 2e2f 6669 6c65 2e6a 7322 293b 0a72 6571 7569 7265 2822 2e2f  equire("./file.js");.require("./
  0080: 666f 6f2e 6a73 2229 3b0a 7265 7175 6972 6528 222e 2f65 736d 2e6d 6a73 2229 3b0a  foo.js");.require("./esm.mjs");.
  00a0: 7265 7175 6972 6528 222e 2f63 6f6d 6d6f 6e6a 732e 636a 7322 293b 0a2f 2f23 2073  require("./commonjs.cjs");.//#.s
  00c0: 6f75 7263 654d 6170 7069 6e67 5552 4c3d                                          ourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=commonjs > typeCheck=true > mixed.ts > diagnostics 1`] = `
Array [
  String(
    \\u001b[96m../test-service-load.ts-tsconfig-module-commonjs-package.json-type-commonjs-typeCheck-true/mixed.ts\\u001b[0m:\\u001b[93m2\\u001b[0m:\\u001b[93m24\\u001b[0m - \\u001b[91merror\\u001b[0m\\u001b[90m TS1479: \\u001b[0mThe current file is a CommonJS module whose imports will produce 'require' calls; however, the referenced file is an ECMAScript module and cannot be imported with 'require'. Consider writing a dynamic 'import("chalk")' call instead.
      To convert this file to an ECMAScript module, change its file extension to '.mts' or create a local package.json file with \`{ "type": "module" }\`.
    
    \\u001b[7m2\\u001b[0m                 import 'chalk'
    \\u001b[7m \\u001b[0m \\u001b[91m                       ~~~~~~~\\u001b[0m
    
  ),
  String(
    \\u001b[96m../test-service-load.ts-tsconfig-module-commonjs-package.json-type-commonjs-typeCheck-true/mixed.ts\\u001b[0m:\\u001b[93m5\\u001b[0m:\\u001b[93m24\\u001b[0m - \\u001b[91merror\\u001b[0m\\u001b[90m TS1479: \\u001b[0mThe current file is a CommonJS module whose imports will produce 'require' calls; however, the referenced file is an ECMAScript module and cannot be imported with 'require'. Consider writing a dynamic 'import("./esm.mjs")' call instead.
      To convert this file to an ECMAScript module, change its file extension to '.mts' or create a local package.json file with \`{ "type": "module" }\`.
    
    \\u001b[7m5\\u001b[0m                 import './esm.mjs'
    \\u001b[7m \\u001b[0m \\u001b[91m                       ~~~~~~~~~~~\\u001b[0m
    
  ),
]
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=false > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=false > commonjs.cts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=false > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=false > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=false > file.ts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 7420 6620 3d20 7b20 6261 723a 2027 6261 7227 207d 3b0a 636f 6e73 6f6c  const.f.=.{.bar:.'bar'.};.consol
  0020: 652e 6572 726f 7228 6629 3b0a 6578 706f 7274 207b 7d3b 0a2f 2f23 2073 6f75 7263  e.error(f);.export.{};.//#.sourc
  0040: 654d 6170 7069 6e67 5552 4c3d                                                    eMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=false > file.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=false > foo.ts > compiled 1`] = `
Buffer <6578 706f 7274 207b 7d3b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d  export.{};.//#.sourceMappingURL=>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=false > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=false > mixed.ts > compiled 1`] = `
Buffer <
  0000: 696d 706f 7274 2027 6368 616c 6b27 3b0a 696d 706f 7274 2027 2e2f 6669 6c65 2e6a  import.'chalk';.import.'./file.j
  0020: 7327 3b0a 696d 706f 7274 2027 2e2f 666f 6f2e 6a73 273b 0a69 6d70 6f72 7420 272e  s';.import.'./foo.js';.import.'.
  0040: 2f65 736d 2e6d 6a73 273b 0a69 6d70 6f72 7420 272e 2f63 6f6d 6d6f 6e6a 732e 636a  /esm.mjs';.import.'./commonjs.cj
  0060: 7327 3b0a 2f2f 2320 736f 7572 6365 4d61 7070 696e 6755 524c 3d                   s';.//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=false > mixed.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=true > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=true > commonjs.cts > diagnostics 1`] = `
Array [
  String(
    \\u001b[96mcommonjs.cts\\u001b[0m:\\u001b[93m3\\u001b[0m:\\u001b[93m17\\u001b[0m - \\u001b[91merror\\u001b[0m\\u001b[90m TS1287: \\u001b[0mA top-level 'export' modifier cannot be used on value declarations in a CommonJS module when 'verbatimModuleSyntax' is enabled.
    
    \\u001b[7m3\\u001b[0m                 export const dialect = 'commonjs'
    \\u001b[7m \\u001b[0m \\u001b[91m                ~~~~~~\\u001b[0m
    
  ),
]
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=true > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=true > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=true > file.ts > compiled 1`] = `
Buffer <
  0000: 696d 706f 7274 207b 2046 6f6f 207d 2066 726f 6d20 272e 2f66 6f6f 2e6a 7327 3b0a  import.{.Foo.}.from.'./foo.js';.
  0020: 636f 6e73 7420 6620 3d20 7b20 6261 723a 2027 6261 7227 207d 3b0a 636f 6e73 6f6c  const.f.=.{.bar:.'bar'.};.consol
  0040: 652e 6572 726f 7228 6629 3b0a 2f2f 2320 736f 7572 6365 4d61 7070 696e 6755 524c  e.error(f);.//#.sourceMappingURL
  0060: 3d                                                                               =
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=true > file.ts > diagnostics 1`] = `
Array [
  String(
    \\u001b[96mfile.ts\\u001b[0m:\\u001b[93m2\\u001b[0m:\\u001b[93m26\\u001b[0m - \\u001b[91merror\\u001b[0m\\u001b[90m TS1484: \\u001b[0m'Foo' is a type and must be imported using a type-only import when 'verbatimModuleSyntax' is enabled.
    
    \\u001b[7m2\\u001b[0m                 import { Foo } from './foo.js'
    \\u001b[7m \\u001b[0m \\u001b[91m                         ~~~\\u001b[0m
    
  ),
]
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=true > foo.ts > compiled 1`] = `
Buffer <6578 706f 7274 207b 7d3b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d  export.{};.//#.sourceMappingURL=>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=true > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=true > mixed.ts > compiled 1`] = `
Buffer <
  0000: 696d 706f 7274 2027 6368 616c 6b27 3b0a 696d 706f 7274 2027 2e2f 6669 6c65 2e6a  import.'chalk';.import.'./file.j
  0020: 7327 3b0a 696d 706f 7274 2027 2e2f 666f 6f2e 6a73 273b 0a69 6d70 6f72 7420 272e  s';.import.'./foo.js';.import.'.
  0040: 2f65 736d 2e6d 6a73 273b 0a69 6d70 6f72 7420 272e 2f63 6f6d 6d6f 6e6a 732e 636a  /esm.mjs';.import.'./commonjs.cj
  0060: 7327 3b0a 2f2f 2320 736f 7572 6365 4d61 7070 696e 6755 524c 3d                   s';.//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=commonjs > package.json type=module > typeCheck=true > mixed.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=false > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=false > commonjs.cts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=false > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=false > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=false > file.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a63 6f6e 7374 2066 203d 207b 2062 6172 3a20 2762  ue:.true.});.const.f.=.{.bar:.'b
  0060: 6172 2720 7d3b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2866 293b 0a2f 2f23 2073 6f75  ar'.};.console.error(f);.//#.sou
  0080: 7263 654d 6170 7069 6e67 5552 4c3d                                               rceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=false > file.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=false > foo.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552  ue:.true.});.//#.sourceMappingUR
  0060: 4c3d                                                                             L=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=false > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=false > mixed.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a72 6571 7569 7265 2822 6368 616c 6b22 293b 0a72  ue:.true.});.require("chalk");.r
  0060: 6571 7569 7265 2822 2e2f 6669 6c65 2e6a 7322 293b 0a72 6571 7569 7265 2822 2e2f  equire("./file.js");.require("./
  0080: 666f 6f2e 6a73 2229 3b0a 7265 7175 6972 6528 222e 2f65 736d 2e6d 6a73 2229 3b0a  foo.js");.require("./esm.mjs");.
  00a0: 7265 7175 6972 6528 222e 2f63 6f6d 6d6f 6e6a 732e 636a 7322 293b 0a2f 2f23 2073  require("./commonjs.cjs");.//#.s
  00c0: 6f75 7263 654d 6170 7069 6e67 5552 4c3d                                          ourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=false > mixed.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=true > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=true > commonjs.cts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=true > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=true > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=true > file.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a63 6f6e 7374 2066 203d 207b 2062 6172 3a20 2762  ue:.true.});.const.f.=.{.bar:.'b
  0060: 6172 2720 7d3b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2866 293b 0a2f 2f23 2073 6f75  ar'.};.console.error(f);.//#.sou
  0080: 7263 654d 6170 7069 6e67 5552 4c3d                                               rceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=true > file.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=true > foo.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552  ue:.true.});.//#.sourceMappingUR
  0060: 4c3d                                                                             L=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=true > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=true > mixed.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a72 6571 7569 7265 2822 6368 616c 6b22 293b 0a72  ue:.true.});.require("chalk");.r
  0060: 6571 7569 7265 2822 2e2f 6669 6c65 2e6a 7322 293b 0a72 6571 7569 7265 2822 2e2f  equire("./file.js");.require("./
  0080: 666f 6f2e 6a73 2229 3b0a 7265 7175 6972 6528 222e 2f65 736d 2e6d 6a73 2229 3b0a  foo.js");.require("./esm.mjs");.
  00a0: 7265 7175 6972 6528 222e 2f63 6f6d 6d6f 6e6a 732e 636a 7322 293b 0a2f 2f23 2073  require("./commonjs.cjs");.//#.s
  00c0: 6f75 7263 654d 6170 7069 6e67 5552 4c3d                                          ourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=commonjs > typeCheck=true > mixed.ts > diagnostics 1`] = `
Array [
  String(
    \\u001b[96m../test-service-load.ts-tsconfig-module-esnext-package.json-type-commonjs-typeCheck-true/mixed.ts\\u001b[0m:\\u001b[93m2\\u001b[0m:\\u001b[93m24\\u001b[0m - \\u001b[91merror\\u001b[0m\\u001b[90m TS1479: \\u001b[0mThe current file is a CommonJS module whose imports will produce 'require' calls; however, the referenced file is an ECMAScript module and cannot be imported with 'require'. Consider writing a dynamic 'import("chalk")' call instead.
      To convert this file to an ECMAScript module, change its file extension to '.mts' or create a local package.json file with \`{ "type": "module" }\`.
    
    \\u001b[7m2\\u001b[0m                 import 'chalk'
    \\u001b[7m \\u001b[0m \\u001b[91m                       ~~~~~~~\\u001b[0m
    
  ),
  String(
    \\u001b[96m../test-service-load.ts-tsconfig-module-esnext-package.json-type-commonjs-typeCheck-true/mixed.ts\\u001b[0m:\\u001b[93m5\\u001b[0m:\\u001b[93m24\\u001b[0m - \\u001b[91merror\\u001b[0m\\u001b[90m TS1479: \\u001b[0mThe current file is a CommonJS module whose imports will produce 'require' calls; however, the referenced file is an ECMAScript module and cannot be imported with 'require'. Consider writing a dynamic 'import("./esm.mjs")' call instead.
      To convert this file to an ECMAScript module, change its file extension to '.mts' or create a local package.json file with \`{ "type": "module" }\`.
    
    \\u001b[7m5\\u001b[0m                 import './esm.mjs'
    \\u001b[7m \\u001b[0m \\u001b[91m                       ~~~~~~~~~~~\\u001b[0m
    
  ),
]
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=false > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=false > commonjs.cts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=false > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=false > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=false > file.ts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 7420 6620 3d20 7b20 6261 723a 2027 6261 7227 207d 3b0a 636f 6e73 6f6c  const.f.=.{.bar:.'bar'.};.consol
  0020: 652e 6572 726f 7228 6629 3b0a 6578 706f 7274 207b 7d3b 0a2f 2f23 2073 6f75 7263  e.error(f);.export.{};.//#.sourc
  0040: 654d 6170 7069 6e67 5552 4c3d                                                    eMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=false > file.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=false > foo.ts > compiled 1`] = `
Buffer <6578 706f 7274 207b 7d3b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d  export.{};.//#.sourceMappingURL=>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=false > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=false > mixed.ts > compiled 1`] = `
Buffer <
  0000: 696d 706f 7274 2027 6368 616c 6b27 3b0a 696d 706f 7274 2027 2e2f 6669 6c65 2e6a  import.'chalk';.import.'./file.j
  0020: 7327 3b0a 696d 706f 7274 2027 2e2f 666f 6f2e 6a73 273b 0a69 6d70 6f72 7420 272e  s';.import.'./foo.js';.import.'.
  0040: 2f65 736d 2e6d 6a73 273b 0a69 6d70 6f72 7420 272e 2f63 6f6d 6d6f 6e6a 732e 636a  /esm.mjs';.import.'./commonjs.cj
  0060: 7327 3b0a 2f2f 2320 736f 7572 6365 4d61 7070 696e 6755 524c 3d                   s';.//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=false > mixed.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=true > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=true > commonjs.cts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=true > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=true > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=true > file.ts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 7420 6620 3d20 7b20 6261 723a 2027 6261 7227 207d 3b0a 636f 6e73 6f6c  const.f.=.{.bar:.'bar'.};.consol
  0020: 652e 6572 726f 7228 6629 3b0a 6578 706f 7274 207b 7d3b 0a2f 2f23 2073 6f75 7263  e.error(f);.export.{};.//#.sourc
  0040: 654d 6170 7069 6e67 5552 4c3d                                                    eMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=true > file.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=true > foo.ts > compiled 1`] = `
Buffer <6578 706f 7274 207b 7d3b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d  export.{};.//#.sourceMappingURL=>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=true > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=true > mixed.ts > compiled 1`] = `
Buffer <
  0000: 696d 706f 7274 2027 6368 616c 6b27 3b0a 696d 706f 7274 2027 2e2f 6669 6c65 2e6a  import.'chalk';.import.'./file.j
  0020: 7327 3b0a 696d 706f 7274 2027 2e2f 666f 6f2e 6a73 273b 0a69 6d70 6f72 7420 272e  s';.import.'./foo.js';.import.'.
  0040: 2f65 736d 2e6d 6a73 273b 0a69 6d70 6f72 7420 272e 2f63 6f6d 6d6f 6e6a 732e 636a  /esm.mjs';.import.'./commonjs.cj
  0060: 7327 3b0a 2f2f 2320 736f 7572 6365 4d61 7070 696e 6755 524c 3d                   s';.//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=esnext > package.json type=module > typeCheck=true > mixed.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=false > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=false > commonjs.cts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=false > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=false > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=false > file.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a63 6f6e 7374 2066 203d 207b 2062 6172 3a20 2762  ue:.true.});.const.f.=.{.bar:.'b
  0060: 6172 2720 7d3b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2866 293b 0a2f 2f23 2073 6f75  ar'.};.console.error(f);.//#.sou
  0080: 7263 654d 6170 7069 6e67 5552 4c3d                                               rceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=false > file.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=false > foo.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552  ue:.true.});.//#.sourceMappingUR
  0060: 4c3d                                                                             L=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=false > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=false > mixed.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a72 6571 7569 7265 2822 6368 616c 6b22 293b 0a72  ue:.true.});.require("chalk");.r
  0060: 6571 7569 7265 2822 2e2f 6669 6c65 2e6a 7322 293b 0a72 6571 7569 7265 2822 2e2f  equire("./file.js");.require("./
  0080: 666f 6f2e 6a73 2229 3b0a 7265 7175 6972 6528 222e 2f65 736d 2e6d 6a73 2229 3b0a  foo.js");.require("./esm.mjs");.
  00a0: 7265 7175 6972 6528 222e 2f63 6f6d 6d6f 6e6a 732e 636a 7322 293b 0a2f 2f23 2073  require("./commonjs.cjs");.//#.s
  00c0: 6f75 7263 654d 6170 7069 6e67 5552 4c3d                                          ourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=false > mixed.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=true > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=true > commonjs.cts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=true > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=true > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=true > file.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a63 6f6e 7374 2066 203d 207b 2062 6172 3a20 2762  ue:.true.});.const.f.=.{.bar:.'b
  0060: 6172 2720 7d3b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2866 293b 0a2f 2f23 2073 6f75  ar'.};.console.error(f);.//#.sou
  0080: 7263 654d 6170 7069 6e67 5552 4c3d                                               rceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=true > file.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=true > foo.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552  ue:.true.});.//#.sourceMappingUR
  0060: 4c3d                                                                             L=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=true > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=true > mixed.ts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a72 6571 7569 7265 2822 6368 616c 6b22 293b 0a72  ue:.true.});.require("chalk");.r
  0060: 6571 7569 7265 2822 2e2f 6669 6c65 2e6a 7322 293b 0a72 6571 7569 7265 2822 2e2f  equire("./file.js");.require("./
  0080: 666f 6f2e 6a73 2229 3b0a 7265 7175 6972 6528 222e 2f65 736d 2e6d 6a73 2229 3b0a  foo.js");.require("./esm.mjs");.
  00a0: 7265 7175 6972 6528 222e 2f63 6f6d 6d6f 6e6a 732e 636a 7322 293b 0a2f 2f23 2073  require("./commonjs.cjs");.//#.s
  00c0: 6f75 7263 654d 6170 7069 6e67 5552 4c3d                                          ourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=commonjs > typeCheck=true > mixed.ts > diagnostics 1`] = `
Array [
  String(
    \\u001b[96m../test-service-load.ts-tsconfig-module-nodenext-package.json-type-commonjs-typeCheck-true/mixed.ts\\u001b[0m:\\u001b[93m2\\u001b[0m:\\u001b[93m24\\u001b[0m - \\u001b[91merror\\u001b[0m\\u001b[90m TS1479: \\u001b[0mThe current file is a CommonJS module whose imports will produce 'require' calls; however, the referenced file is an ECMAScript module and cannot be imported with 'require'. Consider writing a dynamic 'import("chalk")' call instead.
      To convert this file to an ECMAScript module, change its file extension to '.mts' or create a local package.json file with \`{ "type": "module" }\`.
    
    \\u001b[7m2\\u001b[0m                 import 'chalk'
    \\u001b[7m \\u001b[0m \\u001b[91m                       ~~~~~~~\\u001b[0m
    
  ),
  String(
    \\u001b[96m../test-service-load.ts-tsconfig-module-nodenext-package.json-type-commonjs-typeCheck-true/mixed.ts\\u001b[0m:\\u001b[93m5\\u001b[0m:\\u001b[93m24\\u001b[0m - \\u001b[91merror\\u001b[0m\\u001b[90m TS1479: \\u001b[0mThe current file is a CommonJS module whose imports will produce 'require' calls; however, the referenced file is an ECMAScript module and cannot be imported with 'require'. Consider writing a dynamic 'import("./esm.mjs")' call instead.
      To convert this file to an ECMAScript module, change its file extension to '.mts' or create a local package.json file with \`{ "type": "module" }\`.
    
    \\u001b[7m5\\u001b[0m                 import './esm.mjs'
    \\u001b[7m \\u001b[0m \\u001b[91m                       ~~~~~~~~~~~\\u001b[0m
    
  ),
]
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=false > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=false > commonjs.cts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=false > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=false > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=false > file.ts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 7420 6620 3d20 7b20 6261 723a 2027 6261 7227 207d 3b0a 636f 6e73 6f6c  const.f.=.{.bar:.'bar'.};.consol
  0020: 652e 6572 726f 7228 6629 3b0a 6578 706f 7274 207b 7d3b 0a2f 2f23 2073 6f75 7263  e.error(f);.export.{};.//#.sourc
  0040: 654d 6170 7069 6e67 5552 4c3d                                                    eMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=false > file.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=false > foo.ts > compiled 1`] = `
Buffer <6578 706f 7274 207b 7d3b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d  export.{};.//#.sourceMappingURL=>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=false > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=false > mixed.ts > compiled 1`] = `
Buffer <
  0000: 696d 706f 7274 2027 6368 616c 6b27 3b0a 696d 706f 7274 2027 2e2f 6669 6c65 2e6a  import.'chalk';.import.'./file.j
  0020: 7327 3b0a 696d 706f 7274 2027 2e2f 666f 6f2e 6a73 273b 0a69 6d70 6f72 7420 272e  s';.import.'./foo.js';.import.'.
  0040: 2f65 736d 2e6d 6a73 273b 0a69 6d70 6f72 7420 272e 2f63 6f6d 6d6f 6e6a 732e 636a  /esm.mjs';.import.'./commonjs.cj
  0060: 7327 3b0a 2f2f 2320 736f 7572 6365 4d61 7070 696e 6755 524c 3d                   s';.//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=false > mixed.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=true > commonjs.cts > compiled 1`] = `
Buffer <
  0000: 2275 7365 2073 7472 6963 7422 3b0a 4f62 6a65 6374 2e64 6566 696e 6550 726f 7065  "use.strict";.Object.definePrope
  0020: 7274 7928 6578 706f 7274 732c 2022 5f5f 6573 4d6f 6475 6c65 222c 207b 2076 616c  rty(exports,."__esModule",.{.val
  0040: 7565 3a20 7472 7565 207d 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2076  ue:.true.});.exports.dialect.=.v
  0060: 6f69 6420 303b 0a63 6f6e 736f 6c65 2e65 7272 6f72 2827 636f 6d6d 6f6e 6a73 2127  oid.0;.console.error('commonjs!'
  0080: 293b 0a65 7870 6f72 7473 2e64 6961 6c65 6374 203d 2027 636f 6d6d 6f6e 6a73 273b  );.exports.dialect.=.'commonjs';
  00a0: 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d                           .//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=true > commonjs.cts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=true > esm.mts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 6f6c 652e 6572 726f 7228 2765 736d 2127 293b 0a65 7870 6f72 7420 636f  console.error('esm!');.export.co
  0020: 6e73 7420 6469 616c 6563 7420 3d20 2765 736d 273b 0a2f 2f23 2073 6f75 7263 654d  nst.dialect.=.'esm';.//#.sourceM
  0040: 6170 7069 6e67 5552 4c3d                                                         appingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=true > esm.mts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=true > file.ts > compiled 1`] = `
Buffer <
  0000: 636f 6e73 7420 6620 3d20 7b20 6261 723a 2027 6261 7227 207d 3b0a 636f 6e73 6f6c  const.f.=.{.bar:.'bar'.};.consol
  0020: 652e 6572 726f 7228 6629 3b0a 6578 706f 7274 207b 7d3b 0a2f 2f23 2073 6f75 7263  e.error(f);.export.{};.//#.sourc
  0040: 654d 6170 7069 6e67 5552 4c3d                                                    eMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=true > file.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=true > foo.ts > compiled 1`] = `
Buffer <6578 706f 7274 207b 7d3b 0a2f 2f23 2073 6f75 7263 654d 6170 7069 6e67 5552 4c3d  export.{};.//#.sourceMappingURL=>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=true > foo.ts > diagnostics 1`] = `
Array []
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=true > mixed.ts > compiled 1`] = `
Buffer <
  0000: 696d 706f 7274 2027 6368 616c 6b27 3b0a 696d 706f 7274 2027 2e2f 6669 6c65 2e6a  import.'chalk';.import.'./file.j
  0020: 7327 3b0a 696d 706f 7274 2027 2e2f 666f 6f2e 6a73 273b 0a69 6d70 6f72 7420 272e  s';.import.'./foo.js';.import.'.
  0040: 2f65 736d 2e6d 6a73 273b 0a69 6d70 6f72 7420 272e 2f63 6f6d 6d6f 6e6a 732e 636a  /esm.mjs';.import.'./commonjs.cj
  0060: 7327 3b0a 2f2f 2320 736f 7572 6365 4d61 7070 696e 6755 524c 3d                   s';.//#.sourceMappingURL=
>
`

exports[`test/service/load.ts > TAP > tsconfig module=nodenext > package.json type=module > typeCheck=true > mixed.ts > diagnostics 1`] = `
Array []
`
